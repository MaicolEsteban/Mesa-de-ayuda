<div class="cambiar-contrasena-container">
  <div class="card">
    <div class="card-header">
      <h1>ğŸ” Cambiar ContraseÃ±a</h1>
      <p class="subtitle">Primera vez que inicia sesiÃ³n - Debe cambiar su contraseÃ±a</p>
    </div>

    <div class="card-body">
      <p class="info">
        Â¡Bienvenido <strong>{{ usuario?.nombre }}</strong>! 
        Por seguridad, debe cambiar su contraseÃ±a temporal.
      </p>

      <form (ngSubmit)="cambiarContrasena()">
        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email"
            [value]="usuario?.email" 
            readonly
            class="form-control">
        </div>

        <div class="form-group">
          <label for="nueva-contrasena">Nueva ContraseÃ±a *</label>
          <input 
            type="password" 
            id="nueva-contrasena"
            [(ngModel)]="nuevaContrasena"
            name="nuevaContrasena"
            placeholder="Ingresa una contraseÃ±a segura"
            required
            class="form-control">
          <small>MÃ­nimo 6 caracteres</small>
        </div>

        <div class="form-group">
          <label for="confirmar-contrasena">Confirmar ContraseÃ±a *</label>
          <input 
            type="password" 
            id="confirmar-contrasena"
            [(ngModel)]="confirmarContrasena"
            name="confirmarContrasena"
            placeholder="Confirma tu contraseÃ±a"
            required
            class="form-control">
        </div>

        <div *ngIf="error" class="alert alert-error">
          {{ error }}
        </div>

        <div *ngIf="success" class="alert alert-success">
          âœ… ContraseÃ±a cambiada exitosamente. Redirigiendo...
        </div>

        <div class="form-actions">
          <button 
            type="submit"
            [disabled]="loading"
            class="btn btn-primary btn-block">
            {{ loading ? 'Procesando...' : 'âœ“ Cambiar ContraseÃ±a' }}
          </button>
        </div>
      </form>

      <div class="form-footer">
        <button (click)="volver()" class="btn-link">â† Volver al login</button>
      </div>
    </div>
  </div>
</div>